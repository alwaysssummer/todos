# ğŸ“‹ ê°œë°œ í”Œëœ - Todo ìº˜ë¦°ë” ì•±

## âœ… ì™„ë£Œëœ ì‘ì—… (Phase 1: ë ˆì´ì•„ì›ƒ)

### 1ë‹¨ê³„: í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì • âœ“
- Next.js 14 + TypeScript + Tailwind CSS ì„¤ì • ì™„ë£Œ
- í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜:
  - `react-resizable-panels` (3-íŒ¨ë„ ë ˆì´ì•„ì›ƒ)
  - `@dnd-kit/core`, `@dnd-kit/sortable` (ë“œë˜ê·¸ì•¤ë“œë¡­)
  - `date-fns` (ë‚ ì§œ ì²˜ë¦¬)
  - `lucide-react` (ì•„ì´ì½˜)

### 2ë‹¨ê³„: 3-íŒ¨ë„ ë ˆì´ì•„ì›ƒ âœ“
- **ì™¼ìª½ íŒ¨ë„ (LeftPanel.tsx):**
  - Top: Today's Top 5 (ìƒìœ„ 5ê°œ ì¤‘ìš” ì‘ì—…)
  - Center: Inbox (ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ë¯¸ë¶„ë¥˜ ì‘ì—… ëª©ë¡)
  - Bottom: ë¹ ë¥¸ ì…ë ¥ ì°½ (Sticky)

- **ì¤‘ì•™ íŒ¨ë„ (CenterPanel.tsx):**
  - ì£¼ê°„ ìº˜ë¦°ë” ê·¸ë¦¬ë“œ
  - 24ì‹œê°„ x 7ì¼ ë ˆì´ì•„ì›ƒ
  - 10ë¶„ ë‹¨ìœ„ íƒ€ì„ìŠ¬ë¡¯ (í–¥í›„ êµ¬í˜„ ì˜ˆì •)

- **ì˜¤ë¥¸ìª½ íŒ¨ë„ (RightPanel.tsx):**
  - Top: ë¯¸ë‹ˆ ìº˜ë¦°ë” (ì›”ê°„ ë·°)
  - Center: í”„ë¡œì íŠ¸ ì•„ì½”ë””ì–¸ ë¦¬ìŠ¤íŠ¸
  - Bottom: ë©”ëª¨ í´ë”

### 3ë‹¨ê³„: ë°˜ì‘í˜• ëª¨ë°”ì¼ ë ˆì´ì•„ì›ƒ âœ“
- ë°ìŠ¤í¬í†±: 3-íŒ¨ë„ ë™ì‹œ í‘œì‹œ (í¬ê¸° ì¡°ì ˆ ê°€ëŠ¥)
- ëª¨ë°”ì¼: í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ìœ¼ë¡œ íŒ¨ë„ ì „í™˜
- ë¸Œë ˆì´í¬í¬ì¸íŠ¸: `md` (768px)

---

## ğŸš§ ë‹¤ìŒ ë‹¨ê³„ (Phase 2: ë°ì´í„°ë² ì´ìŠ¤)

### 4ë‹¨ê³„: Supabase ì„¤ì • (ì˜ˆìƒ 1-2ì¼)

#### A. Supabase í”„ë¡œì íŠ¸ ìƒì„±
```bash
# 1. https://supabase.com ì—ì„œ ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
# 2. í”„ë¡œì íŠ¸ URLê³¼ API Key ë³µì‚¬
# 3. .env.local íŒŒì¼ ìƒì„±
```

**.env.local íŒŒì¼:**
```env
NEXT_PUBLIC_SUPABASE_URL=your-project-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
```

#### B. ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜
```bash
npm install @supabase/supabase-js
```

#### C. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ (SQL Editorì—ì„œ ì‹¤í–‰)

**âš ï¸ ì¤‘ìš”: ì¸ì¦ ì—†ì´ ì‚¬ìš©í•˜ë¯€ë¡œ RLSëŠ” ë¹„í™œì„±í™”í•©ë‹ˆë‹¤**

```sql
-- 1. í”„ë¡œì íŠ¸ í…Œì´ë¸”
CREATE TABLE projects (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  name TEXT NOT NULL,
  color TEXT DEFAULT '#6B7280',
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- 2. íƒœìŠ¤í¬ í…Œì´ë¸”
CREATE TABLE tasks (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  title TEXT NOT NULL,
  description TEXT,
  start_time TIMESTAMPTZ,
  duration INTEGER, -- ë¶„ ë‹¨ìœ„
  project_id UUID REFERENCES projects(id) ON DELETE SET NULL,
  status TEXT DEFAULT 'inbox', -- inbox, scheduled, completed
  is_top5 BOOLEAN DEFAULT FALSE,
  order_index INTEGER DEFAULT 0,
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- 3. ë©”ëª¨ í…Œì´ë¸”
CREATE TABLE memos (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  title TEXT NOT NULL,
  content TEXT,
  tags TEXT[],
  parent_id UUID REFERENCES memos(id) ON DELETE CASCADE,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- 4. ì¸ë±ìŠ¤ ì¶”ê°€ (ì„±ëŠ¥ ìµœì í™”)
CREATE INDEX idx_tasks_status ON tasks(status);
CREATE INDEX idx_tasks_start_time ON tasks(start_time);
CREATE INDEX idx_tasks_project ON tasks(project_id);

-- 5. ìë™ updated_at íŠ¸ë¦¬ê±°
CREATE OR REPLACE FUNCTION update_updated_at()
RETURNS TRIGGER AS $$
BEGIN
  NEW.updated_at = NOW();
  RETURN NEW;
END;
$$ LANGUAGE plpgsql;

CREATE TRIGGER tasks_updated_at
  BEFORE UPDATE ON tasks
  FOR EACH ROW EXECUTE FUNCTION update_updated_at();

-- 6. RLS ë¹„í™œì„±í™” (ê°œì¸ ì‚¬ìš©ì´ë¯€ë¡œ)
ALTER TABLE projects DISABLE ROW LEVEL SECURITY;
ALTER TABLE tasks DISABLE ROW LEVEL SECURITY;
ALTER TABLE memos DISABLE ROW LEVEL SECURITY;
```

#### D. Supabase í´ë¼ì´ì–¸íŠ¸ ì„¤ì •

**lib/supabase.ts:**
```typescript
import { createClient } from '@supabase/supabase-js'

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!
const supabaseKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!

export const supabase = createClient(supabaseUrl, supabaseKey)
```

#### E. íƒ€ì… ì •ì˜

**types/database.ts:**
```typescript
export interface Task {
  id: string
  title: string
  description?: string
  start_time?: string
  duration?: number
  project_id?: string
  status: 'inbox' | 'scheduled' | 'completed'
  is_top5: boolean
  order_index: number
  created_at: string
  updated_at: string
}

export interface Project {
  id: string
  name: string
  color: string
  created_at: string
}

export interface Memo {
  id: string
  title: string
  content?: string
  tags?: string[]
  parent_id?: string
  created_at: string
}
```

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„ (Phase 3: ê¸°ëŠ¥ êµ¬í˜„)

### 5ë‹¨ê³„: CRUD ê¸°ëŠ¥ êµ¬í˜„ (ì˜ˆìƒ 2-3ì¼)

#### A. ì»¤ìŠ¤í…€ í›… ì‘ì„±

**hooks/useTasks.ts:**
```typescript
import { useEffect, useState } from 'react'
import { supabase } from '@/lib/supabase'
import type { Task } from '@/types/database'

export function useTasks() {
  const [tasks, setTasks] = useState<Task[]>([])
  const [loading, setLoading] = useState(true)

  // ì´ˆê¸° ë¡œë“œ
  useEffect(() => {
    fetchTasks()
  }, [])

  const fetchTasks = async () => {
    const { data, error } = await supabase
      .from('tasks')
      .select('*')
      .order('created_at', { ascending: false })
    
    if (data) setTasks(data)
    setLoading(false)
  }

  const createTask = async (task: Partial<Task>) => {
    const { data, error } = await supabase
      .from('tasks')
      .insert([task])
      .select()
    
    if (data) {
      setTasks([...tasks, data[0]])
      return data[0]
    }
  }

  const updateTask = async (id: string, updates: Partial<Task>) => {
    const { data, error } = await supabase
      .from('tasks')
      .update(updates)
      .eq('id', id)
      .select()
    
    if (data) {
      setTasks(tasks.map(t => t.id === id ? data[0] : t))
    }
  }

  const deleteTask = async (id: string) => {
    const { error } = await supabase
      .from('tasks')
      .delete()
      .eq('id', id)
    
    if (!error) {
      setTasks(tasks.filter(t => t.id !== id))
    }
  }

  return { tasks, loading, createTask, updateTask, deleteTask, refetch: fetchTasks }
}
```

#### B. ì»´í¬ë„ŒíŠ¸ì— í†µí•©

**components/LeftPanel.tsx ìˆ˜ì •:**
- `useTasks` í›… ì‚¬ìš©
- Inboxì—ì„œ ì‹¤ì œ ë°ì´í„° í‘œì‹œ
- ì…ë ¥ ì°½ì—ì„œ ìƒˆ íƒœìŠ¤í¬ ìƒì„±

### 6ë‹¨ê³„: ë“œë˜ê·¸ ì•¤ ë“œë¡­ êµ¬í˜„ (ì˜ˆìƒ 2-3ì¼)

#### A. DnD Context ì„¤ì •

**app/page.tsxì— DndContext ì¶”ê°€:**
```typescript
import { DndContext, DragEndEvent } from '@dnd-kit/core'

export default function Home() {
  const handleDragEnd = (event: DragEndEvent) => {
    const { active, over } = event
    
    if (!over) return
    
    // Inbox â†’ Calendar ë“œë¡­
    if (over.id.toString().includes('calendar-slot')) {
      // íƒœìŠ¤í¬ë¥¼ ìº˜ë¦°ë” ì‹œê°„ì— í• ë‹¹
      updateTask(active.id, {
        start_time: calculateTime(over.id),
        status: 'scheduled'
      })
    }
    
    // Inbox â†’ Project ë“œë¡­
    if (over.id.toString().includes('project-')) {
      // íƒœìŠ¤í¬ë¥¼ í”„ë¡œì íŠ¸ì— í• ë‹¹
      updateTask(active.id, {
        project_id: extractProjectId(over.id)
      })
    }
  }

  return (
    <DndContext onDragEnd={handleDragEnd}>
      {/* ê¸°ì¡´ ë ˆì´ì•„ì›ƒ */}
    </DndContext>
  )
}
```

#### B. Draggable & Droppable ì»´í¬ë„ŒíŠ¸

- **Inbox íƒœìŠ¤í¬:** Draggable
- **ìº˜ë¦°ë” ìŠ¬ë¡¯:** Droppable
- **í”„ë¡œì íŠ¸ í´ë”:** Droppable

### 7ë‹¨ê³„: ì‹¤ì‹œê°„ ë™ê¸°í™” (ì„ íƒì‚¬í•­, ì˜ˆìƒ 1ì¼)

```typescript
// hooks/useTasks.tsì— ì¶”ê°€
useEffect(() => {
  const channel = supabase
    .channel('tasks_changes')
    .on('postgres_changes', 
      { event: '*', schema: 'public', table: 'tasks' },
      (payload) => {
        if (payload.eventType === 'INSERT') {
          setTasks([payload.new as Task, ...tasks])
        } else if (payload.eventType === 'UPDATE') {
          setTasks(tasks.map(t => 
            t.id === payload.new.id ? payload.new as Task : t
          ))
        } else if (payload.eventType === 'DELETE') {
          setTasks(tasks.filter(t => t.id !== payload.old.id))
        }
      }
    )
    .subscribe()

  return () => {
    supabase.removeChannel(channel)
  }
}, [tasks])
```

---

## ğŸš€ ë°°í¬ (Phase 4: Vercel)

### 8ë‹¨ê³„: Vercel ë°°í¬ (ì˜ˆìƒ 30ë¶„)

#### A. GitHubì— í‘¸ì‹œ
```bash
git init
git add .
git commit -m "Initial commit"
git remote add origin your-repo-url
git push -u origin main
```

#### B. Vercel ì„¤ì •
1. https://vercel.com ì—ì„œ Import Git Repository
2. í”„ë¡œì íŠ¸ ì„ íƒ
3. í™˜ê²½ë³€ìˆ˜ ì¶”ê°€:
   - `NEXT_PUBLIC_SUPABASE_URL`
   - `NEXT_PUBLIC_SUPABASE_ANON_KEY`
4. Deploy í´ë¦­

#### C. ìë™ ë°°í¬ ì„¤ì •
- `main` ë¸Œëœì¹˜ í‘¸ì‹œ ì‹œ ìë™ ë°°í¬
- Preview ë°°í¬ í™œì„±í™”

---

## ğŸ“Š ì§„í–‰ ìƒí™©

| ë‹¨ê³„ | ì‘ì—… | ìƒíƒœ | ì˜ˆìƒ ì‹œê°„ |
|------|------|------|----------|
| 1 | í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì • | âœ… ì™„ë£Œ | - |
| 2 | ë ˆì´ì•„ì›ƒ êµ¬í˜„ | âœ… ì™„ë£Œ | - |
| 3 | ë°˜ì‘í˜• ë””ìì¸ | âœ… ì™„ë£Œ | - |
| 4 | Supabase ì„¤ì • | â³ ëŒ€ê¸° | 1-2ì¼ |
| 5 | CRUD ê¸°ëŠ¥ | â³ ëŒ€ê¸° | 2-3ì¼ |
| 6 | ë“œë˜ê·¸ì•¤ë“œë¡­ | â³ ëŒ€ê¸° | 2-3ì¼ |
| 7 | ì‹¤ì‹œê°„ ë™ê¸°í™” | â³ ì„ íƒ | 1ì¼ |
| 8 | Vercel ë°°í¬ | â³ ëŒ€ê¸° | 30ë¶„ |

**ì´ ì˜ˆìƒ ê¸°ê°„:** 5-10ì¼ (1ì¼ 4-6ì‹œê°„ ì‘ì—… ê¸°ì¤€)

---

## ğŸ¨ í˜„ì¬ ë ˆì´ì•„ì›ƒ í™•ì¸

ê°œë°œ ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì…ë‹ˆë‹¤. ë¸Œë¼ìš°ì €ì—ì„œ í™•ì¸í•˜ì„¸ìš”:
```
http://localhost:3000
```

**ë°ìŠ¤í¬í†±ì—ì„œ í™•ì¸í•  ì‚¬í•­:**
- âœ… 3-íŒ¨ë„ ë ˆì´ì•„ì›ƒ
- âœ… íŒ¨ë„ í¬ê¸° ì¡°ì ˆ ê°€ëŠ¥ (ë“œë˜ê·¸)
- âœ… ì™¼ìª½: Top5 + Inbox + ì…ë ¥ì°½
- âœ… ì¤‘ì•™: ì£¼ê°„ ìº˜ë¦°ë” ê·¸ë¦¬ë“œ
- âœ… ì˜¤ë¥¸ìª½: ë¯¸ë‹ˆìº˜ë¦°ë” + í”„ë¡œì íŠ¸ + ë©”ëª¨

**ëª¨ë°”ì¼ì—ì„œ í™•ì¸í•  ì‚¬í•­ (ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ â†’ ëª¨ë°”ì¼ ë·°):**
- âœ… í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°”
- âœ… íŒ¨ë„ ì „í™˜ ê¸°ëŠ¥

---

## ğŸ“ ë‹¤ìŒ ì‘ì—… ì‹œì‘ ë°©ë²•

### Supabase ì„¤ì •ë¶€í„° ì‹œì‘í•˜ë ¤ë©´:
1. https://supabase.com íšŒì›ê°€ì…
2. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±
3. ìœ„ì˜ SQL ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
4. API Keys ë³µì‚¬ â†’ `.env.local` ìƒì„±
5. ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ ë° í´ë¼ì´ì–¸íŠ¸ ì„¤ì •

### ë°”ë¡œ ê¸°ëŠ¥ êµ¬í˜„ì„ ì›í•˜ì‹œë©´:
- Mock ë°ì´í„°ë¡œ ë¨¼ì € CRUD ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- ë‚˜ì¤‘ì— Supabase ì—°ê²°

---

## ğŸ’¡ íŒ

**ë¹„ê°œë°œìë¥¼ ìœ„í•œ ì¡°ì–¸:**
1. **ë¨¼ì € ë ˆì´ì•„ì›ƒì„ í™•ì¸í•˜ì„¸ìš”** - í˜„ì¬ ë‹¨ê³„ì—ì„œ ì „ì²´ UIê°€ ì™„ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤
2. **í•œ ë²ˆì— í•œ ë‹¨ê³„ì”©** - Supabase ì„¤ì • â†’ CRUD â†’ ë“œë˜ê·¸ì•¤ë“œë¡­ ìˆœì„œë¡œ ì§„í–‰
3. **ì—ëŸ¬ê°€ ë‚˜ë©´** - í„°ë¯¸ë„ ë¡œê·¸ë¥¼ ì½ì–´ë³´ê³ , í•„ìš”í•˜ë©´ ë„ì›€ ìš”ì²­
4. **ìˆ˜ì‹œë¡œ í…ŒìŠ¤íŠ¸** - ê¸°ëŠ¥ í•˜ë‚˜ ì¶”ê°€í•  ë•Œë§ˆë‹¤ ë¸Œë¼ìš°ì €ì—ì„œ í™•ì¸

**ê°œë°œ ì„œë²„ ëª…ë ¹ì–´:**
```bash
npm run dev          # ê°œë°œ ì„œë²„ ì‹œì‘
npm run build        # í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run start        # í”„ë¡œë•ì…˜ ì„œë²„ ì‹¤í–‰
```

---

ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰ ë ˆì´ì•„ì›ƒì´ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì œ ë°ì´í„°ë² ì´ìŠ¤ì™€ ê¸°ëŠ¥ êµ¬í˜„ë§Œ ë‚¨ì•˜ìŠµë‹ˆë‹¤!




